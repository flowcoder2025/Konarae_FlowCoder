# i18n 규칙 (Internationalization)

> **목적**: UI 텍스트의 일관된 관리 및 다국어/톤 변환 지원
> **범위**: 모든 UI 텍스트 (버튼, 라벨, 메시지, 상태)
> **SSOT**: `/src/lib/text-config.ts`

---

## 1. 테이블 컬럼 표준

모든 i18n 데이터는 다음 컬럼 구조를 따릅니다:

| 컬럼 | 필수 | 설명 |
|-----|:----:|------|
| Key | ✅ | 네이밍 체계 기반 ID |
| KO | ✅ | 한국어 텍스트 |
| EN | 선택 | 영어 텍스트 |
| Tone | ✅ | 톤 코드 |
| Context | 선택 | 사용 맥락 설명 |

### 예시 테이블

| Key | KO | EN | Tone | Context |
|-----|----|----|------|---------|
| `BTN.AUTH.LOGIN` | 로그인 | Login | Neutral | 로그인 버튼 |
| `BTN.AUTH.LOGOUT` | 로그아웃 | Logout | Neutral | 로그아웃 버튼 |
| `LID.MODAL.DELETE.CONFIRM` | 삭제하시겠습니까? | Delete? | Destructive | 삭제 확인 |
| `LID.STATUS.SUCCESS` | 완료되었습니다 | Completed | Confirm | 성공 메시지 |

---

## 2. Tone 코드 정의

| 톤 코드 | 의미 | 사용 상황 | 예시 |
|--------|------|----------|------|
| `Confirm` | 긍정적 확인 | 성공, 저장 완료 | "저장되었습니다" |
| `Destructive` | 파괴적/위험 | 삭제, 탈퇴, 경고 | "삭제하시겠습니까?" |
| `Soft` | 부드러운 안내 | 입력 유도, 선택 요청 | "입력해 주세요" |
| `Neutral` | 중립적 정보 | 라벨, 상태 표시 | "총 3개" |
| `Info` | 정보 제공 | 설명, 안내 | "이 기능은..." |

### Tone과 Semantic 매핑

| Tone | BTN Semantic | 버튼 Variant |
|------|--------------|-------------|
| Confirm | PRIMARY | `default` |
| Destructive | DANGER | `destructive` |
| Soft | SECONDARY | `outline` |
| Neutral | SECONDARY | `outline` |

---

## 3. 환경별 분기

배포 환경에 따라 어투가 달라집니다:

| 환경 | 환경변수 | 어투 스타일 |
|-----|---------|-----------|
| Standalone | `NEXT_PUBLIC_DEPLOYMENT_ENV=standalone` | 비즈니스 (-하기, -됨) |
| Apps-in-Toss | `NEXT_PUBLIC_DEPLOYMENT_ENV=apps-in-toss` | 해요체 (-해요, -되었어요) |

### 분기 예시

| Key | Standalone | Apps-in-Toss |
|-----|------------|--------------|
| `BTN.SAVE` | 저장 | 저장해요 |
| `BTN.CANCEL` | 취소 | 취소해요 |
| `LID.STATUS.LOADING` | 로딩 중 | 불러오고 있어요 |
| `LID.STATUS.SUCCESS` | 완료 | 완료했어요 |

---

## 4. 키 생성 규칙

### 4.1 네이밍 체계 연계

```
{TYPE}.{DOMAIN}.{CONTEXT}
```

- `TYPE`: BTN, LID, SID (→ `/docs/foundations/naming.md`)
- `DOMAIN`: AUTH, MODAL, FORM, NAV, COMMON
- `CONTEXT`: 구체적 맥락

### 4.2 계층 구조

```
BTN.AUTH.LOGIN           # 버튼: 인증 > 로그인
LID.AUTH.LOGIN.TITLE     # 라벨: 인증 > 로그인 > 제목
LID.AUTH.LOGIN.SUBTITLE  # 라벨: 인증 > 로그인 > 부제목
```

---

## 5. 규칙

### 5.1 허용

```tsx
✅ getText("BTN.AUTH.LOGIN")           // ID 기반 조회
✅ BUTTON_TEXT.login                    // 카테고리별 접근
✅ isAppsInToss ? "저장해요" : "저장"    // 환경 분기
```

### 5.2 금지

```tsx
❌ <Button>로그인</Button>             // 하드코딩 금지
❌ const text = "저장"                 // 직접 문자열 금지
❌ getText("login")                    // 비표준 키 금지
```

---

## 6. text-config.ts 구조

```tsx
// 환경 감지
const DEPLOYMENT_ENV = process.env.NEXT_PUBLIC_DEPLOYMENT_ENV || 'standalone'
const isAppsInToss = DEPLOYMENT_ENV === 'apps-in-toss'

// 카테고리별 정의
export const BUTTON_TEXT = {
  login: isAppsInToss ? '로그인해요' : '로그인',
  save: isAppsInToss ? '저장해요' : '저장',
  // ...
} as const

// ID 기반 매핑
export const ID_TEXT: Record<string, string> = {
  "BTN.AUTH.LOGIN": BUTTON_TEXT.login,
  "LID.AUTH.LOGIN.TITLE": isAppsInToss ? "로그인해요" : "로그인",
  // ...
}

// 조회 함수
export function getText(id: string): string {
  return ID_TEXT[id] ?? id
}
```

---

## 7. 최소 예시

### 컴포넌트에서 사용

```tsx
import { getText, BUTTON_TEXT } from "@/lib/text-config"

// 방법 1: ID 기반
<Button>{getText("BTN.AUTH.LOGIN")}</Button>

// 방법 2: 카테고리 기반
<Button>{BUTTON_TEXT.login}</Button>

// 라벨
<Heading>{getText("LID.AUTH.LOGIN.TITLE")}</Heading>
```

### 새 텍스트 추가

1. `/docs/copy/{domain}.md`에 테이블 추가
2. `/src/lib/text-config.ts`에 구현
3. 컴포넌트에서 사용

---

## 변경 이력

| 날짜 | 변경 |
|-----|------|
| 2025-12-05 | 초기 작성 |
